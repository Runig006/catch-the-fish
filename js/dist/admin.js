module.exports=function(t){var n={};function a(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=t,a.c=n,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var s in t)a.d(e,s,function(n){return t[n]}.bind(null,s));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a(a.s=30)}({10:function(t,n){t.exports=flarum.core.compat["common/components/Switch"]},2:function(t,n){t.exports=flarum.core.compat["admin/app"]},26:function(t,n){t.exports=flarum.core.compat["common/components/LoadingIndicator"]},27:function(t,n){t.exports=flarum.core.compat["common/components/Select"]},28:function(t,n){t.exports=flarum.core.compat["admin/components/ExtensionPage"]},3:function(t,n,a){"use strict";function e(t,n){return(e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,e(t,n)}a.d(n,"a",(function(){return s}))},30:function(t,n,a){"use strict";a.r(n);var e=a(2),s=a.n(e),r=a(3),o=a(4),i=a.n(o),l=a(26),c=a.n(l),u=a(27),p=a.n(u),g=a(10),f=a.n(g),h=a(28),d="catch-the-fish.",b="clarkwinkelmann-catch-the-fish.admin.settings.",y=function(t){function n(){for(var n,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).allTagsLoaded=!1,n.loadingAllTags=!1,n.selectedTag="0",n}Object(r.a)(n,t);var a=n.prototype;return a.oninit=function(n){t.prototype.oninit.call(this,n),flarum.extensions["flarum-tags"]&&this.loadAllTags()},a.loadAllTags=function(){var t=this;this.loadingAllTags=!0,s.a.store.find("tags",{include:"parent,lastPostedDiscussion"}).then((function(){t.loadingAllTags=!1,t.allTagsLoaded=!0,m.redraw()}))},a.content=function(){var t=this;return m(".ExtensionPage-settings",m(".container",[m("h3",s.a.translator.trans(b+"user")),m(".Form-group",[m("label",s.a.translator.trans(b+"user-age")),m("input.FormControl",{type:"number",min:1,step:1,bidi:this.setting(d+"userAgeDays","14")})]),m(".Form-group",[m("label",s.a.translator.trans(b+"user-probability")),m("input.FormControl.CTFFormControl--range",{type:"number",min:0,max:100,step:1,bidi:this.setting(d+"userProbability","33")}),m("input",{type:"range",min:0,max:100,step:1,bidi:this.setting(d+"userProbability","33")})]),m("h3",s.a.translator.trans(b+"discussion")),m(".Form-group",[m("label",s.a.translator.trans(b+"discussion-age")),m("input.FormControl",{type:"number",min:1,step:1,bidi:this.setting(d+"discussionAgeDays","14")})]),m(".Form-group",[m("label",s.a.translator.trans(b+"discussion-tags")),m("p.helpText",s.a.translator.trans(b+"discussion-tags-help")),this.tagSettings()]),m("h3",s.a.translator.trans(b+"post")),m(".Form-group",[m("label",s.a.translator.trans(b+"post-age")),m("input.FormControl",{type:"number",min:1,step:1,bidi:this.setting(d+"postAgeDays","14")})]),m(".Form-group",[m("label",s.a.translator.trans(b+"post-probability")),m("input.FormControl.CTFFormControl--range",{type:"number",min:0,max:100,step:1,bidi:this.setting(d+"postProbability","50")}),m("input",{type:"range",min:0,max:100,step:1,bidi:this.setting(d+"postProbability","50")})]),m("h3",s.a.translator.trans(b+"general")),m(".Form-group",[m("label",s.a.translator.trans(b+"time-to-place")),m("input.FormControl",{type:"number",min:1,step:1,bidi:this.setting(d+"autoPlacedAfterMinutes","5")})]),m(".Form-group",[f.a.component({state:"1"===this.setting(d+"alertRound","1")(),onchange:function(n){t.setting(d+"alertRound")(n?"1":"0")}},s.a.translator.trans(b+"alert-round"))]),m(".Form-group",[f.a.component({state:"1"===this.setting(d+"animateFlip","1")(),onchange:function(n){t.setting(d+"animateFlip")(n?"1":"0")}},s.a.translator.trans(b+"animate-flip"))]),m(".Form-group",this.submitButton())]))},a.tagSettings=function(){var t=this;if(!flarum.extensions["flarum-tags"])return m("p",m("em",s.a.translator.trans(b+"discussion-tags-unavailable")));if(this.loadingAllTags)return c.a.component();var n=[];try{n=JSON.parse(this.setting(d+"discussionTags")())}catch(t){}Array.isArray(n)||(n=[]);var a={0:s.a.translator.trans(b+"tags-control.choose")};return flarum.core.compat["tags/utils/sortTags"](s.a.store.all("tags")).forEach((function(t){n.some((function(n){return n.tagId===t.id()}))||(a[t.id()]=t.name())})),m("table.CTFTagsTable",[m("thead",m("tr",[m("th",s.a.translator.trans(b+"tags-header.tag")),m("th",s.a.translator.trans(b+"tags-header.probability")),m("th")])),m("tbody",[n.map((function(a,e){var r=function(e){a.probability=parseInt(e.target.value),t.setting(d+"discussionTags")(JSON.stringify(n))},o=s.a.store.getById("tags",a.tagId),l=e===n.length-1;return m("tr",[m("td",o?o.name():m("em",a.tagId)),m("td",l?m("em",s.a.translator.trans(b+"tags-fallback."+(n.length>1?"last-line":"single-line"))):[m("input.FormControl.CTFFormControl--range",{type:"number",min:0,max:100,step:1,value:a.probability||"",onchange:r}),m("input",{type:"range",min:0,max:100,step:1,value:a.probability||"",onchange:r})]),m("td",[" ",i.a.component({className:"Button Button--icon",icon:"fas fa-chevron-down",onclick:function(){var a;(a=n).splice.apply(a,[e+1,0].concat(n.splice(e,1))),t.setting(d+"discussionTags")(JSON.stringify(n))},disabled:l,title:s.a.translator.trans(b+"tags-control.down")})," ",i.a.component({className:"Button Button--icon",icon:"fas fa-chevron-up",onclick:function(){var a;(a=n).splice.apply(a,[e-1,0].concat(n.splice(e,1))),t.setting(d+"discussionTags")(JSON.stringify(n))},disabled:0===e,title:s.a.translator.trans(b+"tags-control.up")})," ",i.a.component({className:"Button Button--icon",icon:"fas fa-times",onclick:function(){n.splice(e,1),t.setting(d+"discussionTags")(JSON.stringify(n))},title:s.a.translator.trans(b+"tags-control.delete")})])])})),m("tr",[m("td",{colspan:2},p.a.component({options:a,value:this.selectedTag,onchange:function(n){t.selectedTag=n}})),m("td",i.a.component({className:"Button Button--block",onclick:function(){n.push({tagId:t.selectedTag,probability:50}),t.setting(d+"discussionTags")(JSON.stringify(n)),t.selectedTag="0"},disabled:"0"===this.selectedTag},s.a.translator.trans(b+"tags-control.add")))])])])},n}(a.n(h).a);s.a.initializers.add("clarkwinkelmann-catch-the-fish",(function(){s.a.extensionData.for("clarkwinkelmann-catch-the-fish").registerPage(y).registerPermission({icon:"fas fa-fish",label:s.a.translator.trans("clarkwinkelmann-catch-the-fish.admin.permissions.visible"),permission:"catchthefish.visible",allowGuest:!0},"view").registerPermission({icon:"fas fa-fish",label:s.a.translator.trans("clarkwinkelmann-catch-the-fish.admin.permissions.list-rankings"),permission:"catchthefish.list-rankings",allowGuest:!0},"view").registerPermission({icon:"fas fa-fish",label:s.a.translator.trans("clarkwinkelmann-catch-the-fish.admin.permissions.participate"),permission:"catchthefish.participate"},"reply").registerPermission({icon:"fas fa-fish",label:s.a.translator.trans("clarkwinkelmann-catch-the-fish.admin.permissions.choose-place"),permission:"catchthefish.choose-place"},"reply").registerPermission({icon:"fas fa-fish",label:s.a.translator.trans("clarkwinkelmann-catch-the-fish.admin.permissions.choose-name"),permission:"catchthefish.choose-name"},"reply").registerPermission({icon:"fas fa-fish",label:s.a.translator.trans("clarkwinkelmann-catch-the-fish.admin.permissions.moderate"),permission:"catchthefish.moderate"},"moderate")}))},4:function(t,n){t.exports=flarum.core.compat["common/components/Button"]}});
//# sourceMappingURL=admin.js.map