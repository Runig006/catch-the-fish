{"version":3,"sources":["webpack://@clarkwinkelmann/catch-the-fish/webpack/bootstrap","webpack://@clarkwinkelmann/catch-the-fish/./forum.js","webpack://@clarkwinkelmann/catch-the-fish/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addDropAreas.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addFishBasket.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addModels.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addNavLinks.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addPages.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addRoundAlert.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/Basket.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/DropArea.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/EditFish.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/EditRound.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/FishImage.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/MovingFish.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/RoundAlert.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/index.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/CaughtFishModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/EditFishModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/EditRoundModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/NewFishModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/NewRoundModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/models/Fish.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/models/Round.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/pages/RoundList.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/pages/RoundSettings.js","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['Component']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['Model']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['app']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Alert']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Button']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/CommentPost']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/HeaderPrimary']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/IndexPage']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/LinkButton']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Modal']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Page']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Switch']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['extend']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/Discussion']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/Forum']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/Post']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/User']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['utils/mixin']\""],"names":["fishIdFromEvent","event","data","dataTransfer","getData","match","exec","override","CommentPost","prototype","content","addContent","fishDragOver","push","DropArea","component","fishes","props","post","catchTheFishFishes","forEach","fish","MovingFish","oncatch","pushData","relationships","concat","extend","subtree","check","attrs","ondrop","fishId","preventDefault","app","store","getById","request","method","url","forum","attribute","id","placement","post_id","then","result","pushPayload","alert","ondragover","dropEffect","ondragenter","ondragleave","HeaderPrimary","items","add","Basket","models","Fish","Round","Discussion","Model","hasMany","Post","User","catchTheFishBasket","Forum","catchTheFishActiveRounds","catchTheFishCanModerate","translationPrefix","IndexPage","LinkButton","icon","children","translator","trans","href","route","routes","catchTheFishRounds","path","RoundList","catchTheFishRound","RoundSettings","original","existing","rounds","additional","map","round","RoundAlert","Array","isArray","m","view","session","user","basket","length","draggable","ondragstart","setData","FishImage","time","moment","placeUntil","fromNow","Component","EditFish","init","dirty","processing","initNewRecord","createRecord","attributes","round_id","name","value","oninput","withAttr","updateAttribute","bind","Button","type","className","exists","loading","disabled","readyToSave","onclick","saveRecord","deleteRecord","pushAttributes","save","onsave","redraw","catch","err","confirm","join","delete","ondelete","EditRound","starts_at","ends_at","toISOString","include_starting_pack","Switch","state","onchange","src","image_url","alt","canCatch","modal","show","CaughtFishModal","AlertWithContainer","vdom","Alert","UpdateAlert","calendar","dismissible","initializers","addModels","addFishBasket","addDropAreas","addPages","addNavLinks","addRoundAlert","newName","prop","title","saveNameAndPlacement","randomPlacement","hide","canName","canPlace","Modal","EditRoundModal","oncreateordelete","NewFishModal","NewRoundModal","apiEndpoint","mixin","refreshRounds","Page","roundId","param","find","refreshFishes","EditFishModal"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import {extend, override} from 'flarum/extend';\nimport app from 'flarum/app';\nimport CommentPost from 'flarum/components/CommentPost';\nimport DropArea from './components/DropArea';\nimport MovingFish from './components/MovingFish';\n\nfunction fishIdFromEvent(event) {\n    const data = event.dataTransfer.getData(\"text/plain\");\n\n    const match = /^fish:([0-9]+)$/.exec(data);\n\n    return match ? match[1] : null;\n}\n\nexport default function () {\n    override(CommentPost.prototype, 'content', function (content) {\n        const addContent = [];\n\n        if (this.fishDragOver) {\n            addContent.push(DropArea.component());\n        }\n\n        const fishes = this.props.post.catchTheFishFishes();\n\n        if (fishes) {\n            fishes.forEach(fish => {\n                addContent.push(MovingFish.component({\n                    fish,\n                    oncatch: () => {\n                        this.props.post.pushData({\n                            relationships: {\n                                catchTheFishFishes: {\n                                    data: [],\n                                },\n                            },\n                        });\n                    },\n                }));\n            });\n        }\n\n        return content().concat(addContent);\n    });\n\n    extend(CommentPost.prototype, 'init', function () {\n        this.fishDragOver = false;\n\n        // Add a condition to the tree retainer\n        this.subtree.check(() => this.fishDragOver);\n    });\n\n    extend(CommentPost.prototype, 'attrs', function (attrs) {\n        attrs.ondrop = event => {\n            this.fishDragOver = false;\n            const fishId = fishIdFromEvent(event);\n\n            if (fishId) {\n                event.preventDefault();\n\n                const fish = app.store.getById('catchthefish-fishes', fishId);\n\n                if (fish) {\n                    app.request({\n                        method: 'POST',\n                        url: app.forum.attribute('apiUrl') + '/catch-the-fish/fishes/' + fish.id() + '/place',\n                        data: {\n                            placement: {\n                                post_id: this.props.post.id(),\n                            },\n                        },\n                    }).then(result => {\n                        app.store.pushPayload(result);\n\n                        // Refresh basket my reloading user\n                        //app.store.find('users', app.session.user.id());\n                    });\n                } else {\n                    alert('Invalid fish');\n                }\n            }\n        };\n        attrs.ondragover = event => {\n            const fishId = fishIdFromEvent(event);\n\n            if (fishId) {\n                event.preventDefault();\n                event.dataTransfer.dropEffect = 'move';\n                this.fishDragOver = true;\n            }\n        };\n        attrs.ondragenter = event => {\n            event.preventDefault();\n        };\n        attrs.ondragleave = () => {\n            this.fishDragOver = false;\n        };\n    });\n}\n","import {extend} from 'flarum/extend';\nimport HeaderPrimary from 'flarum/components/HeaderPrimary';\nimport Basket from './components/Basket';\n\nexport default function () {\n    extend(HeaderPrimary.prototype, 'items', items => {\n        items.add('catchthefish-basket', Basket.component());\n    });\n}\n","import app from 'flarum/app';\nimport Model from 'flarum/Model';\nimport Discussion from 'flarum/models/Discussion';\nimport Post from 'flarum/models/Post';\nimport User from 'flarum/models/User';\nimport Forum from 'flarum/models/Forum';\nimport Fish from './models/Fish';\nimport Round from './models/Round';\n\nexport default function () {\n    app.store.models['catchthefish-fishes'] = Fish;\n    app.store.models['catchthefish-rounds'] = Round;\n\n    Discussion.prototype.catchTheFishFishes = Model.hasMany('catchTheFishFishes');\n    Post.prototype.catchTheFishFishes = Model.hasMany('catchTheFishFishes');\n    User.prototype.catchTheFishFishes = Model.hasMany('catchTheFishFishes');\n    User.prototype.catchTheFishBasket = Model.hasMany('catchTheFishBasket');\n    Forum.prototype.catchTheFishActiveRounds = Model.hasMany('catchTheFishActiveRounds');\n    Forum.prototype.catchTheFishCanModerate = Model.attribute('catchTheFishCanModerate');\n}\n","import {extend} from 'flarum/extend';\nimport app from 'flarum/app';\nimport IndexPage from 'flarum/components/IndexPage';\nimport LinkButton from 'flarum/components/LinkButton';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.nav.';\n\nexport default function () {\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        if (app.forum.catchTheFishCanModerate()) {\n            items.add('catchthefish-settings', LinkButton.component({\n                icon: 'fas fa-fish',\n                children: app.translator.trans(translationPrefix + 'settings'),\n                href: app.route('catchTheFishRounds'),\n            }));\n        }\n    });\n}\n","import app from 'flarum/app';\nimport RoundList from './pages/RoundList';\nimport RoundSettings from './pages/RoundSettings';\n\nexport default function () {\n    app.routes.catchTheFishRounds = {\n        path: '/catch-the-fish/rounds',\n        component: RoundList.component(),\n    };\n\n    app.routes.catchTheFishRound = {\n        path: '/catch-the-fish/rounds/:id',\n        component: RoundSettings.component(),\n    };\n}\n","import {override} from 'flarum/extend';\nimport IndexPage from 'flarum/components/IndexPage';\nimport RoundAlert from './components/RoundAlert';\n\nexport default function () {\n    override(IndexPage.prototype, 'hero', function (original) {\n        const existing = original();\n\n        const rounds = app.forum.catchTheFishActiveRounds();\n\n        if (!rounds) {\n            return existing;\n        }\n\n        // Replace missing rounds with null. Happens if you delete a round and go back to homepage\n        const additional = rounds.map(round => round ? RoundAlert.component({\n            round,\n        }) : null);\n\n        if (Array.isArray(existing)) {\n            return round.concat(existing);\n        }\n\n        return m('div', [\n            additional,\n            existing,\n        ]);\n    });\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport FishImage from './FishImage';\n\n/* global m, moment */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.basket.';\n\nexport default class Basket extends Component {\n    view() {\n        if (!app.session.user) {\n            return m('div');\n        }\n\n        const basket = app.session.user.catchTheFishBasket();\n\n        if (!basket || basket.length === 0) {\n            return m('div');\n        }\n\n        return m('.catchthefish-basket', [\n            m('.catchthefish-basket-title', app.translator.trans(translationPrefix + 'title')),\n            m('p', app.translator.trans(translationPrefix + 'drag-help')),\n            basket.map(fish => m('.catchthefish-basket-entry', [\n                m('.catchthefish-basket-fish', {\n                    draggable: true,\n                    ondragstart(event) {\n                        event.dataTransfer.setData('text/plain', 'fish:1');\n                    },\n                }, FishImage.component({\n                    fish,\n                })),\n                m('.catchthefish-basket-time', app.translator.trans(translationPrefix + 'time', {\n                    time: moment(fish.placeUntil()).fromNow(),\n                })),\n            ])),\n        ]);\n    }\n}\n","import Component from 'flarum/Component';\n\n/* global m */\n\nexport default class DropArea extends Component {\n    view() {\n        return m('.catchthefish-drop-area', 'Drop it here');\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport Button from 'flarum/components/Button';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-fish.';\n\nexport default class EditFish extends Component {\n    init() {\n        this.fish = this.props.fish;\n        this.dirty = false;\n        this.processing = false;\n\n        if (typeof this.fish === 'undefined') {\n            this.initNewRecord();\n        }\n    }\n\n    initNewRecord() {\n        this.fish = app.store.createRecord('catchthefish-fishes', {\n            attributes: {\n                round_id: this.props.round.id(),\n                name: '',\n            },\n        });\n    }\n\n    view() {\n        return m('form', [\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'name')),\n                m('input.FormControl', {\n                    value: this.fish.name(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'name')),\n                }),\n                m('.helpText', app.translator.trans(translationPrefix + 'name-help')),\n            ]),\n            m('.ButtonGroup', [\n                Button.component({\n                    type: 'submit',\n                    className: 'Button Button--primary',\n                    children: app.translator.trans(translationPrefix + (this.fish.exists ? 'save' : 'create')),\n                    loading: this.processing,\n                    disabled: !this.readyToSave(),\n                    onclick: this.saveRecord.bind(this),\n                }),\n                (this.fish.exists ? Button.component({\n                    type: 'button',\n                    className: 'Button Button--danger',\n                    children: app.translator.trans(translationPrefix + 'delete'),\n                    loading: this.processing,\n                    onclick: this.deleteRecord.bind(this),\n                }) : ''),\n            ]),\n        ]);\n    }\n\n    updateAttribute(attribute, value) {\n        this.fish.pushAttributes({\n            [attribute]: value,\n        });\n\n        this.dirty = true;\n    }\n\n    readyToSave() {\n        if (!this.fish.name()) {\n            return false;\n        }\n\n        return this.dirty;\n    }\n\n    saveRecord() {\n        this.processing = true;\n\n        this.fish.save(this.fish.data.attributes).then(() => {\n            if (this.props.onsave) {\n                this.props.onsave();\n            }\n\n            this.processing = false;\n            this.dirty = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n\n    deleteRecord() {\n        if (!confirm(app.translator.trans(translationPrefix + 'delete-confirmation', {\n            name: this.fish.name(),\n        }).join(''))) {\n            return;\n        }\n\n        this.processing = true;\n\n        this.fish.delete().then(() => {\n            if (this.props.ondelete) {\n                this.props.ondelete();\n            }\n\n            this.processing = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport Button from 'flarum/components/Button';\nimport Switch from 'flarum/components/Switch';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-round.';\n\nexport default class EditRound extends Component {\n    init() {\n        this.round = this.props.round;\n        this.dirty = false;\n        this.processing = false;\n\n        if (typeof this.round === 'undefined') {\n            this.initNewRecord();\n        }\n    }\n\n    initNewRecord() {\n        this.round = app.store.createRecord('catchthefish-rounds', {\n            attributes: {\n                name: '',\n                starts_at: '',\n                ends_at: moment().add(1, 'day').toISOString(),\n                include_starting_pack: true,\n            },\n        });\n    }\n\n    view() {\n        return m('form', [\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'name')),\n                m('input.FormControl', {\n                    value: this.round.name(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'name')),\n                }),\n                m('.helpText', app.translator.trans(translationPrefix + 'name-help')),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'starts-at')),\n                m('input.FormControl', {\n                    value: this.round.starts_at(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'starts_at')),\n                }),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'ends-at')),\n                m('input.FormControl', {\n                    value: this.round.ends_at(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'ends_at')),\n                }),\n            ]),\n            this.round.exists ? '' : m('.Form-group', [\n                m('label', [\n                    Switch.component({\n                        state: this.round.include_starting_pack(),\n                        onchange: this.updateAttribute.bind(this, 'include_starting_pack'),\n                        children: app.translator.trans(translationPrefix + 'starting-pack'),\n                    }),\n                ]),\n                m('.helpText', app.translator.trans(translationPrefix + 'starting-pack-help')),\n            ]),\n            m('.ButtonGroup', [\n                Button.component({\n                    type: 'submit',\n                    className: 'Button Button--primary',\n                    children: app.translator.trans(translationPrefix + (this.round.exists ? 'save' : 'create')),\n                    loading: this.processing,\n                    disabled: !this.readyToSave(),\n                    onclick: this.saveRecord.bind(this),\n                }),\n                (this.round.exists ? Button.component({\n                    type: 'button',\n                    className: 'Button Button--danger',\n                    children: app.translator.trans(translationPrefix + 'delete'),\n                    loading: this.processing,\n                    onclick: this.deleteRecord.bind(this),\n                }) : ''),\n            ]),\n        ]);\n    }\n\n    updateAttribute(attribute, value) {\n        this.round.pushAttributes({\n            [attribute]: value,\n        });\n\n        this.dirty = true;\n    }\n\n    readyToSave() {\n        if (!this.round.name()) {\n            return false;\n        }\n\n        return this.dirty;\n    }\n\n    saveRecord() {\n        this.processing = true;\n\n        this.round.save(this.round.data.attributes).then(() => {\n            if (this.props.onsave) {\n                this.props.onsave();\n            }\n\n            this.processing = false;\n            this.dirty = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n\n    deleteRecord() {\n        if (!confirm(app.translator.trans(translationPrefix + 'delete-confirmation', {\n            name: this.round.name(),\n        }).join(''))) {\n            return;\n        }\n\n        this.processing = true;\n\n        this.round.delete().then(() => {\n            if (this.props.ondelete) {\n                this.props.ondelete();\n            }\n\n            this.processing = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n}\n","import Component from 'flarum/Component';\n\n/* global m */\n\nexport default class FishImage extends Component {\n    view() {\n        const src = this.props.fish.image_url();\n\n        if (src) {\n            return m('img.catchthefish-image', {\n                alt: 'Image of fish ' + this.props.fish.name(),\n                src,\n            });\n        }\n\n        return m('.catchthefish-no-image', 'Missing fish image');\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport FishImage from './FishImage';\nimport CaughtFishModal from '../modals/CaughtFishModal';\n\n/* global m */\n\nexport default class MovingFish extends Component {\n    view() {\n        const {fish} = this.props;\n\n        return m('.catchthefish-moving-fish', {\n            onclick: () => {\n                if (!fish.canCatch()) {\n                    if (!app.session.user) {\n                        alert('Login to catch fishes');\n                    } else {\n                        alert('Catching fishes is restricted to certain groups');\n                    }\n                    return;\n                }\n\n                app.request({\n                    method: 'POST',\n                    url: app.forum.attribute('apiUrl') + '/catch-the-fish/fishes/' + fish.id() + '/catch',\n                    data: fish.placement(),\n                }).then(result => {\n                    app.modal.show(new CaughtFishModal({\n                        fish: app.store.pushPayload(result),\n                    }));\n\n                    // So the parent can remove the fish from the relationship\n                    if (this.props.oncatch) {\n                        this.props.oncatch();\n                    }\n                });\n            },\n        }, [\n            m('.catchthefish-name', fish.name()),\n            FishImage.component({\n                fish,\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport Alert from 'flarum/components/Alert';\n\n/* global m, moment */\n\nclass AlertWithContainer extends Alert {\n    view() {\n        const vdom = super.view();\n\n        vdom.children = [\n            m('.container', vdom.children),\n        ];\n\n        return vdom;\n    }\n}\n\nexport default class UpdateAlert extends Component {\n    view() {\n        return AlertWithContainer.component({\n            type: 'info',\n            children: app.translator.trans('clarkwinkelmann-catch-the-fish.forum.round-alert.message', {\n                name: this.props.round.name(),\n                time: moment(this.props.round.ends_at()).calendar(),\n            }),\n            dismissible: false,\n        });\n    }\n}\n","import {extend} from 'flarum/extend';\nimport app from 'flarum/app';\nimport addModels from './addModels';\nimport addFishBasket from './addFishBasket';\nimport addDropAreas from './addDropAreas';\nimport addPages from './addPages';\nimport addNavLinks from './addNavLinks';\nimport addRoundAlert from './addRoundAlert';\n\napp.initializers.add('clarkwinkelmann-catch-the-fish', () => {\n    addModels();\n    addFishBasket();\n    addDropAreas();\n    addPages();\n    addNavLinks();\n    addRoundAlert();\n});\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport FishImage from '../components/FishImage';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.caught-fish-modal.';\n\nexport default class CaughtFishModal extends Modal {\n    init() {\n        super.init();\n\n        this.newName = m.prop(this.props.fish.name());\n        this.dirty = false;\n        this.loading = false;\n    }\n\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title');\n    }\n\n    saveNameAndPlacement(randomPlacement = false) {\n        const data = {};\n\n        if (this.dirty) {\n            data.name = this.newName();\n        }\n\n        if (randomPlacement) {\n            data.placement = 'random';\n        }\n\n        if (data) {\n            this.loading = true;\n\n            app.request({\n                method: 'POST',\n                url: app.forum.attribute('apiUrl') + '/catch-the-fish/fishes/' + this.props.fish.id() + '/place',\n                data,\n            }).then(result => {\n                app.store.pushPayload(result);\n                this.hide();\n            }).catch(err => {\n                this.loading = false;\n                m.redraw();\n                throw err;\n            });\n        } else {\n            this.hide();\n        }\n    }\n\n    content() {\n        const {fish} = this.props;\n\n        return m('.Modal-body', [\n            FishImage.component({\n                fish,\n            }),\n            m('p', app.translator.trans(translationPrefix + 'congratulation')),\n            fish.canName() ? m('.Form-group', [\n                m('p', app.translator.trans(translationPrefix + 'name-help')),\n                m('label', app.translator.trans(translationPrefix + 'name')),\n                m('input.FormControl', {\n                    value: this.newName(),\n                    oninput: m.withAttr('value', value => {\n                        this.newName(value);\n                        this.dirty = true;\n                    }),\n                }),\n            ]) : null,\n            fish.canPlace() ? m('p', app.translator.trans(translationPrefix + 'placement-help')) : null,\n            m('.Form-group', Button.component({\n                className: 'Button Button--primary Button--block',\n                type: 'button',\n                loading: this.loading,\n                children: app.translator.trans(translationPrefix + (this.dirty ? (fish.canPlace() ? 'submit-name-place-later' : 'submit-name') : (fish.canPlace() ? 'submit-place-later' : 'submit-continue'))),\n                onclick: () => {\n                    this.saveNameAndPlacement();\n                },\n            })),\n            fish.canPlace() ? m('.Form-group', Button.component({\n                className: 'Button Button--primary Button--block',\n                type: 'button',\n                loading: this.loading,\n                children: app.translator.trans(translationPrefix + (this.dirty ? 'submit-name-place-random' : 'submit-place-random')),\n                onclick: () => {\n                    this.saveNameAndPlacement(true);\n                },\n            })) : null,\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditFish from '../components/EditFish';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-fish-modal.';\n\nexport default class EditRoundModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title', {\n            name: this.props.fish.name(),\n        });\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditFish.component({\n                fish: this.props.fish,\n                ondelete: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditRound from '../components/EditRound';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-round-modal.';\n\nexport default class EditRoundModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title', {\n            name: this.props.round.name(),\n        });\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditRound.component({\n                round: this.props.round,\n                ondelete: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditFish from '../components/EditFish';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.new-fish-modal.';\n\nexport default class NewFishModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title');\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditFish.component({\n                round: this.props.round,\n                onsave: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditRound from '../components/EditRound';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.new-round-modal.';\n\nexport default class NewRoundModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title');\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditRound.component({\n                onsave: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class Fish extends mixin(Model, {\n    round_id: Model.attribute('round_id'), // Just for the creation apiEndpoint creation\n    placement: Model.attribute('placement'), // Object\n    name: Model.attribute('name'),\n    image_url: Model.attribute('image_url'),\n    canCatch: Model.attribute('canCatch'),\n    canName: Model.attribute('canName'),\n    canPlace: Model.attribute('canPlace'),\n    placeUntil: Model.attribute('placeUntil'),\n}) {\n    apiEndpoint() {\n        return '/catch-the-fish/' + (this.exists ? 'fishes/' + this.data.id : 'rounds/' + this.data.attributes.round_id + '/fishes');\n    }\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class Fish extends mixin(Model, {\n    name: Model.attribute('name'),\n    starts_at: Model.attribute('starts_at'),\n    ends_at: Model.attribute('ends_at'),\n    include_starting_pack: Model.attribute('include_starting_pack'),\n}) {\n    apiEndpoint() {\n        return '/catch-the-fish/rounds' + (this.exists ? '/' + this.data.id : '');\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\nimport LinkButton from 'flarum/components/LinkButton';\nimport NewRoundModal from '../modals/NewRoundModal';\nimport EditRoundModal from '../modals/EditRoundModal';\n\n/* global m */\n\nexport default class RoundList extends Page {\n    init() {\n        super.init();\n\n        this.refreshRounds();\n    }\n\n    refreshRounds() {\n        this.rounds = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/catch-the-fish/rounds',\n        }).then(result => {\n            this.rounds = app.store.pushPayload(result);\n            m.redraw();\n        });\n    }\n\n    view() {\n        if (this.rounds === null) {\n            return m('.container', m('p', 'Loading...'));\n        }\n\n        return m('.container', [\n            m('h2', 'Rounds'),\n            Button.component({\n                className: 'Button Button--primary',\n                onclick: () => {\n                    app.modal.show(new NewRoundModal({\n                        oncreateordelete: () => {\n                            this.refreshRounds();\n                        },\n                    }));\n                },\n                children: 'New',\n            }),\n            m('table', [\n                m('thead', m('tr', [\n                    m('th', 'Name'),\n                    m('th', 'From'),\n                    m('th', 'To'),\n                    m('th', 'Actions'),\n                ])),\n                m('tbody', this.rounds.map(round => m('tr', [\n                    m('td', round.name()),\n                    m('td', round.starts_at()),\n                    m('td', round.ends_at()),\n                    m('td', [\n                        Button.component({\n                            className: 'Button',\n                            onclick: () => {\n                                app.modal.show(new EditRoundModal({\n                                    round,\n                                    oncreateordelete: () => {\n                                        this.refreshRounds();\n                                    },\n                                }));\n                            },\n                            children: 'Edit',\n                        }),\n                        ' ',\n                        LinkButton.component({\n                            className: 'Button',\n                            href: app.route('catchTheFishRound', {\n                                id: round.id(),\n                            }),\n                            children: 'Fishes',\n                        }),\n                    ]),\n                ]))),\n            ]),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\nimport NewFishModal from '../modals/NewFishModal';\nimport EditFishModal from '../modals/EditFishModal';\nimport FishImage from '../components/FishImage';\n\n/* global m */\n\nexport default class RoundSettings extends Page {\n    init() {\n        super.init();\n\n        this.roundId = m.route.param('id');\n        this.round = app.store.getById('catchthefish-round', this.roundId);\n\n        if (!this.round) {\n            app.store.find('catch-the-fish/rounds', this.roundId).then(round => {\n                this.round = round;\n                m.redraw();\n            });\n        }\n\n        this.refreshFishes();\n    }\n\n    refreshFishes() {\n        this.fishes = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/catch-the-fish/rounds/' + this.roundId + '/fishes',\n        }).then(result => {\n            this.fishes = app.store.pushPayload(result);\n            m.redraw();\n        });\n    }\n\n    view() {\n        if (!this.round || this.fishes === null) {\n            return m('.container', m('p', 'Loading...'));\n        }\n\n        return m('.container', [\n            m('h2', 'Settings for round ' + this.round.name()),\n            Button.component({\n                className: 'Button Button--primary',\n                onclick: () => {\n                    app.modal.show(new NewFishModal({\n                        round: this.round,\n                        oncreateordelete: () => {\n                            this.refreshFishes();\n                        },\n                    }));\n                },\n                children: 'New',\n            }),\n            m('table', [\n                m('thead', m('tr', [\n                    m('th', 'Image'),\n                    m('th', 'Name'),\n                    m('th', 'Actions'),\n                ])),\n                m('tbody', this.fishes.length === 0 ? m('tr', [\n                    m('td', 'No fishes'),\n                ]) : this.fishes.map(fish => m('tr', [\n                    m('td', FishImage.component({\n                        fish,\n                    })),\n                    m('td', fish.name()),\n                    m('td', [\n                        Button.component({\n                            className: 'Button',\n                            onclick: () => {\n                                app.modal.show(new EditFishModal({\n                                    fish,\n                                    oncreateordelete: () => {\n                                        this.refreshFishes();\n                                    },\n                                }));\n                            },\n                            children: 'Edit',\n                        }),\n                    ]),\n                ]))),\n            ]),\n        ]);\n    }\n}\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/CommentPost'];","module.exports = flarum.core.compat['components/HeaderPrimary'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['models/Forum'];","module.exports = flarum.core.compat['models/Post'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}