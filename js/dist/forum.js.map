{"version":3,"sources":["webpack://@clarkwinkelmann/catch-the-fish/webpack/bootstrap","webpack://@clarkwinkelmann/catch-the-fish/./forum.js","webpack://@clarkwinkelmann/catch-the-fish/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addDropAreas.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addFishBasket.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addModels.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addNavLinks.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addPages.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/addRoundAlert.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/Basket.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/DropArea.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/EditFish.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/EditRound.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/FishImage.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/MovingFish.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/RoundAlert.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/RoundRankings.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/components/User.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/index.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/CaughtFishModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/EditFishModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/EditRoundModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/NewFishModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/modals/NewRoundModal.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/models/Fish.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/models/Ranking.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/models/Round.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/pages/Rankings.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/pages/RoundList.js","webpack://@clarkwinkelmann/catch-the-fish/./src/forum/pages/RoundSettings.js","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['Component']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['Model']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['app']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Alert']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Button']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/CommentPost']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/DiscussionHero']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/HeaderPrimary']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/IndexPage']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/LinkButton']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Modal']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Page']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/Switch']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['components/UserCard']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['extend']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['helpers/avatar']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['helpers/username']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/Discussion']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/Forum']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/Post']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['models/User']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['utils/classList']\"","webpack://@clarkwinkelmann/catch-the-fish/external \"flarum.core.compat['utils/mixin']\""],"names":["fishIdFromEvent","event","data","dataTransfer","getData","match","exec","movingFishContent","dragover","model","content","push","DropArea","component","fishes","catchTheFishFishes","forEach","fish","canSee","MovingFish","oncatch","pushData","relationships","filter","f","id","addDropAttrs","attrs","modelProperty","ondrop","fishDragOver","fishId","preventDefault","app","store","getById","placement","props","request","method","url","forum","attribute","then","result","pushPayload","find","session","user","m","redraw","alert","translator","trans","ondragover","dropEffect","ondragenter","ondragleave","addAreaToComponent","viewName","override","concat","extend","items","add","subtree","check","bind","vdom","CommentPost","prototype","UserCard","DiscussionHero","HeaderPrimary","Basket","models","Fish","Ranking","Round","Discussion","Model","hasMany","Post","User","catchTheFishBasket","Forum","catchTheFishActiveRounds","catchTheFishCanModerate","catchTheFishCanSeeRankingsPage","catchTheFishCanSeeProfileRankings","catchTheFishAnimateFlip","translationPrefix","IndexPage","LinkButton","icon","children","href","route","routes","catchTheFishRankings","path","Rankings","catchTheFishRounds","RoundList","catchTheFishRound","RoundSettings","original","existing","rounds","additional","map","round","RoundAlert","Array","isArray","view","basket","fishesThatCanBePlaced","canPlace","length","draggable","ondragstart","setData","FishImage","time","moment","placeUntil","fromNow","Component","EditFish","init","dirty","processing","initNewRecord","createRecord","attributes","round_id","name","onsubmit","saveRecord","value","oninput","withAttr","updateAttribute","Button","type","className","exists","loading","disabled","readyToSave","onclick","deleteRecord","pushAttributes","save","onsave","catch","err","confirm","join","delete","ondelete","EditRound","starts_at","ends_at","toISOString","include_starting_pack","Switch","state","onchange","src","image_url","alt","style","animationDuration","reverseAnimation","Math","random","floor","classList","canCatch","modal","show","CaughtFishModal","AlertWithContainer","Alert","UpdateAlert","calendar","dismissible","RoundRankings","rankings","ranking","index","catch_count","Page","config","avatar","username","initializers","addModels","addFishBasket","addDropAreas","addPages","addNavLinks","addRoundAlert","newName","prop","title","saveNameAndPlacement","randomPlacement","hide","namedBy","placedBy","canName","Modal","EditRoundModal","oncreateordelete","NewFishModal","NewRoundModal","apiEndpoint","mixin","hasOne","refreshRounds","roundId","param","uploading","refreshFishes","openPicker","callback","multiple","$input","$","attr","appendTo","click","on","e","target","files","uploadImages","images","FormData","append","i","serialize","raw","EditFishModal"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import {extend, override} from 'flarum/extend';\nimport app from 'flarum/app';\nimport CommentPost from 'flarum/components/CommentPost';\nimport UserCard from 'flarum/components/UserCard';\nimport DiscussionHero from 'flarum/components/DiscussionHero';\nimport DropArea from './components/DropArea';\nimport MovingFish from './components/MovingFish';\n\nfunction fishIdFromEvent(event) {\n    const data = event.dataTransfer.getData(\"text/plain\");\n\n    const match = /^fish:([0-9]+)$/.exec(data);\n\n    return match ? match[1] : null;\n}\n\nfunction movingFishContent(dragover, model) {\n    const content = [];\n\n    if (dragover) {\n        content.push(DropArea.component());\n    }\n\n    const fishes = model.catchTheFishFishes();\n\n    if (fishes) {\n        fishes.forEach(fish => {\n            if (!fish.canSee()) {\n                return;\n            }\n\n            // Remove fish from relationship\n            content.push(MovingFish.component({\n                fish,\n                oncatch: () => {\n                    model.pushData({\n                        relationships: {\n                            catchTheFishFishes: {\n                                data: model.data.relationships.catchTheFishFishes.data.filter(f => f.id !== fish.id()),\n                            },\n                        },\n                    });\n                },\n            }));\n        });\n    }\n\n    return content;\n}\n\nfunction addDropAttrs(attrs, modelProperty) {\n    attrs.ondrop = event => {\n        this.fishDragOver = false;\n        const fishId = fishIdFromEvent(event);\n\n        if (fishId) {\n            event.preventDefault();\n\n            const fish = app.store.getById('catchthefish-fishes', fishId);\n\n            if (fish) {\n                const placement = {};\n                placement[modelProperty + '_id'] = this.props[modelProperty].id();\n\n                app.request({\n                    method: 'POST',\n                    url: app.forum.attribute('apiUrl') + '/catch-the-fish/fishes/' + fish.id() + '/place',\n                    data: {\n                        placement,\n                    },\n                }).then(result => {\n                    app.store.pushPayload(result);\n\n                    // Refresh basket by reloading user\n                    app.store.find('users', app.session.user.id()).then(() => {\n                        m.redraw();\n                    });\n                });\n            } else {\n                alert(app.translator.trans('clarkwinkelmann-catch-the-fish.forum.drop-area.missing-from-store'));\n            }\n        }\n    };\n    attrs.ondragover = event => {\n        const fishId = fishIdFromEvent(event);\n\n        if (fishId) {\n            event.preventDefault();\n            event.dataTransfer.dropEffect = 'move';\n            this.fishDragOver = true;\n        }\n    };\n    attrs.ondragenter = event => {\n        event.preventDefault();\n    };\n    attrs.ondragleave = () => {\n        this.fishDragOver = false;\n    };\n}\n\nfunction addAreaToComponent(component, viewName, modelProperty) {\n    if (viewName === 'content') {\n        override(component, viewName, function (content) {\n            return content().concat(movingFishContent(this.fishDragOver, this.props[modelProperty]));\n        });\n    } else {\n        extend(component, viewName, function (items) {\n            items.add('catchthefish-fish-and-drop', movingFishContent(this.fishDragOver, this.props[modelProperty]));\n        });\n    }\n\n    extend(component, 'init', function () {\n        this.fishDragOver = false;\n\n        // Add a condition to the post tree retainer\n        if (this.subtree) {\n            this.subtree.check(() => this.fishDragOver);\n        }\n    });\n\n    if (viewName === 'content') {\n        // CommentPost has an attrs() method we can extend\n        extend(component, 'attrs', function (attrs) {\n            addDropAttrs.bind(this)(attrs, modelProperty);\n        });\n    } else {\n        // For other elements we manually add attrs to the vdom of the view\n        extend(component, 'view', function (vdom) {\n            vdom.attrs = vdom.attrs || {};\n            addDropAttrs.bind(this)(vdom.attrs, modelProperty);\n        });\n    }\n}\n\nexport default function () {\n    addAreaToComponent(CommentPost.prototype, 'content', 'post');\n    addAreaToComponent(UserCard.prototype, 'infoItems', 'user');\n    addAreaToComponent(DiscussionHero.prototype, 'items', 'discussion');\n}\n","import {extend} from 'flarum/extend';\nimport HeaderPrimary from 'flarum/components/HeaderPrimary';\nimport Basket from './components/Basket';\n\nexport default function () {\n    extend(HeaderPrimary.prototype, 'items', items => {\n        items.add('catchthefish-basket', Basket.component());\n    });\n}\n","import app from 'flarum/app';\nimport Model from 'flarum/Model';\nimport Discussion from 'flarum/models/Discussion';\nimport Post from 'flarum/models/Post';\nimport User from 'flarum/models/User';\nimport Forum from 'flarum/models/Forum';\nimport Fish from './models/Fish';\nimport Ranking from \"./models/Ranking\";\nimport Round from './models/Round';\n\nexport default function () {\n    app.store.models['catchthefish-fishes'] = Fish;\n    app.store.models['catchthefish-rankings'] = Ranking;\n    app.store.models['catchthefish-rounds'] = Round;\n\n    Discussion.prototype.catchTheFishFishes = Model.hasMany('catchTheFishFishes');\n    Post.prototype.catchTheFishFishes = Model.hasMany('catchTheFishFishes');\n    User.prototype.catchTheFishFishes = Model.hasMany('catchTheFishFishes');\n    User.prototype.catchTheFishBasket = Model.hasMany('catchTheFishBasket');\n    Forum.prototype.catchTheFishActiveRounds = Model.hasMany('catchTheFishActiveRounds');\n    Forum.prototype.catchTheFishCanModerate = Model.attribute('catchTheFishCanModerate');\n    Forum.prototype.catchTheFishCanSeeRankingsPage = Model.attribute('catchTheFishCanSeeRankingsPage');\n    Forum.prototype.catchTheFishCanSeeProfileRankings = Model.attribute('catchTheFishCanSeeProfileRankings');\n    Forum.prototype.catchTheFishAnimateFlip = Model.attribute('catchTheFishAnimateFlip');\n}\n","import {extend} from 'flarum/extend';\nimport app from 'flarum/app';\nimport IndexPage from 'flarum/components/IndexPage';\nimport LinkButton from 'flarum/components/LinkButton';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.nav.';\n\nexport default function () {\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        if (app.forum.catchTheFishCanSeeRankingsPage()) {\n            items.add('catchthefish-rankings', LinkButton.component({\n                icon: 'fas fa-fish',\n                children: app.translator.trans(translationPrefix + 'rankings'),\n                href: app.route('catchTheFishRankings'),\n            }));\n        }\n\n        if (app.forum.catchTheFishCanModerate()) {\n            items.add('catchthefish-settings', LinkButton.component({\n                icon: 'fas fa-fish',\n                children: app.translator.trans(translationPrefix + 'settings'),\n                href: app.route('catchTheFishRounds'),\n            }));\n        }\n    });\n}\n","import app from 'flarum/app';\nimport Rankings from \"./pages/Rankings\";\nimport RoundList from './pages/RoundList';\nimport RoundSettings from './pages/RoundSettings';\n\nexport default function () {\n    app.routes.catchTheFishRankings = {\n        path: '/catch-the-fish',\n        component: Rankings.component(),\n    };\n\n    app.routes.catchTheFishRounds = {\n        path: '/catch-the-fish/rounds',\n        component: RoundList.component(),\n    };\n\n    app.routes.catchTheFishRound = {\n        path: '/catch-the-fish/rounds/:id',\n        component: RoundSettings.component(),\n    };\n}\n","import {override} from 'flarum/extend';\nimport IndexPage from 'flarum/components/IndexPage';\nimport RoundAlert from './components/RoundAlert';\n\nexport default function () {\n    override(IndexPage.prototype, 'hero', function (original) {\n        const existing = original();\n\n        const rounds = app.forum.catchTheFishActiveRounds();\n\n        if (!rounds) {\n            return existing;\n        }\n\n        // Replace missing rounds with null. Happens if you delete a round and go back to homepage\n        const additional = rounds.map(round => round ? RoundAlert.component({\n            round,\n        }) : null);\n\n        if (Array.isArray(existing)) {\n            return round.concat(existing);\n        }\n\n        return m('div', [\n            additional,\n            existing,\n        ]);\n    });\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport FishImage from './FishImage';\n\n/* global m, moment */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.basket.';\n\nexport default class Basket extends Component {\n    view() {\n        if (!app.session.user) {\n            return m('div');\n        }\n\n        const basket = app.session.user.catchTheFishBasket();\n\n        if (!basket) {\n            return m('div');\n        }\n\n        const fishesThatCanBePlaced = basket.filter(fish => fish.canPlace());\n\n        if (fishesThatCanBePlaced.length === 0) {\n            return m('div');\n        }\n\n        return m('.catchthefish-basket', [\n            m('.catchthefish-basket-title', app.translator.trans(translationPrefix + 'title')),\n            m('p', app.translator.trans(translationPrefix + 'drag-help')),\n            fishesThatCanBePlaced.map(fish => m('.catchthefish-basket-entry', [\n                m('.catchthefish-basket-fish', {\n                    draggable: true,\n                    ondragstart(event) {\n                        event.dataTransfer.setData('text/plain', 'fish:' + fish.id());\n                    },\n                }, FishImage.component({\n                    fish,\n                })),\n                m('.catchthefish-basket-time', app.translator.trans(translationPrefix + 'time', {\n                    time: moment(fish.placeUntil()).fromNow(),\n                })),\n            ])),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\n\n/* global m */\n\nexport default class DropArea extends Component {\n    view() {\n        return m('.catchthefish-drop-area', app.translator.trans('clarkwinkelmann-catch-the-fish.forum.drop-area.message'));\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport Button from 'flarum/components/Button';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-fish.';\n\nexport default class EditFish extends Component {\n    init() {\n        this.fish = this.props.fish;\n        this.dirty = false;\n        this.processing = false;\n\n        if (typeof this.fish === 'undefined') {\n            this.initNewRecord();\n        }\n    }\n\n    initNewRecord() {\n        this.fish = app.store.createRecord('catchthefish-fishes', {\n            attributes: {\n                round_id: this.props.round.id(),\n                name: '',\n            },\n        });\n    }\n\n    view() {\n        return m('form', {\n            onsubmit: event => {\n                event.preventDefault();\n                this.saveRecord();\n            },\n        }, [\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'name')),\n                m('input.FormControl', {\n                    value: this.fish.name(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'name')),\n                }),\n                m('.helpText', app.translator.trans(translationPrefix + 'name-help')),\n            ]),\n            m('.ButtonGroup', [\n                Button.component({\n                    type: 'submit',\n                    className: 'Button Button--primary',\n                    children: app.translator.trans(translationPrefix + (this.fish.exists ? 'save' : 'create')),\n                    loading: this.processing,\n                    disabled: !this.readyToSave(),\n                    onclick: this.saveRecord.bind(this),\n                }),\n                (this.fish.exists ? Button.component({\n                    type: 'button',\n                    className: 'Button Button--danger',\n                    children: app.translator.trans(translationPrefix + 'delete'),\n                    loading: this.processing,\n                    onclick: this.deleteRecord.bind(this),\n                }) : ''),\n            ]),\n        ]);\n    }\n\n    updateAttribute(attribute, value) {\n        this.fish.pushAttributes({\n            [attribute]: value,\n        });\n\n        this.dirty = true;\n    }\n\n    readyToSave() {\n        if (!this.fish.name()) {\n            return false;\n        }\n\n        return this.dirty;\n    }\n\n    saveRecord() {\n        this.processing = true;\n\n        this.fish.save(this.fish.data.attributes).then(() => {\n            if (this.props.onsave) {\n                this.props.onsave();\n            }\n\n            this.processing = false;\n            this.dirty = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n\n    deleteRecord() {\n        if (!confirm(app.translator.trans(translationPrefix + 'delete-confirmation', {\n            name: this.fish.name(),\n        }).join(''))) {\n            return;\n        }\n\n        this.processing = true;\n\n        this.fish.delete().then(() => {\n            if (this.props.ondelete) {\n                this.props.ondelete();\n            }\n\n            this.processing = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport Button from 'flarum/components/Button';\nimport Switch from 'flarum/components/Switch';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-round.';\n\nexport default class EditRound extends Component {\n    init() {\n        this.round = this.props.round;\n        this.dirty = false;\n        this.processing = false;\n\n        if (typeof this.round === 'undefined') {\n            this.initNewRecord();\n        }\n    }\n\n    initNewRecord() {\n        this.round = app.store.createRecord('catchthefish-rounds', {\n            attributes: {\n                name: '',\n                starts_at: '',\n                ends_at: moment().add(1, 'day').toISOString(),\n                include_starting_pack: true,\n            },\n        });\n    }\n\n    view() {\n        return m('form', {\n            onsubmit: event => {\n                event.preventDefault();\n                this.saveRecord();\n            },\n        }, [\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'name')),\n                m('input.FormControl', {\n                    value: this.round.name(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'name')),\n                }),\n                m('.helpText', app.translator.trans(translationPrefix + 'name-help')),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'starts-at')),\n                m('input.FormControl', {\n                    value: this.round.starts_at(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'starts_at')),\n                }),\n            ]),\n            m('.Form-group', [\n                m('label', app.translator.trans(translationPrefix + 'ends-at')),\n                m('input.FormControl', {\n                    value: this.round.ends_at(),\n                    oninput: m.withAttr('value', this.updateAttribute.bind(this, 'ends_at')),\n                }),\n            ]),\n            this.round.exists ? '' : m('.Form-group', [\n                m('label', [\n                    Switch.component({\n                        state: this.round.include_starting_pack(),\n                        onchange: this.updateAttribute.bind(this, 'include_starting_pack'),\n                        children: app.translator.trans(translationPrefix + 'starting-pack'),\n                    }),\n                ]),\n                m('.helpText', app.translator.trans(translationPrefix + 'starting-pack-help')),\n            ]),\n            m('.ButtonGroup', [\n                Button.component({\n                    type: 'submit',\n                    className: 'Button Button--primary',\n                    children: app.translator.trans(translationPrefix + (this.round.exists ? 'save' : 'create')),\n                    loading: this.processing,\n                    disabled: !this.readyToSave(),\n                    onclick: this.saveRecord.bind(this),\n                }),\n                (this.round.exists ? Button.component({\n                    type: 'button',\n                    className: 'Button Button--danger',\n                    children: app.translator.trans(translationPrefix + 'delete'),\n                    loading: this.processing,\n                    onclick: this.deleteRecord.bind(this),\n                }) : ''),\n            ]),\n        ]);\n    }\n\n    updateAttribute(attribute, value) {\n        this.round.pushAttributes({\n            [attribute]: value,\n        });\n\n        this.dirty = true;\n    }\n\n    readyToSave() {\n        if (!this.round.name()) {\n            return false;\n        }\n\n        return this.dirty;\n    }\n\n    saveRecord() {\n        this.processing = true;\n\n        this.round.save(this.round.data.attributes).then(() => {\n            if (this.props.onsave) {\n                this.props.onsave();\n            }\n\n            this.processing = false;\n            this.dirty = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n\n    deleteRecord() {\n        if (!confirm(app.translator.trans(translationPrefix + 'delete-confirmation', {\n            name: this.round.name(),\n        }).join(''))) {\n            return;\n        }\n\n        this.processing = true;\n\n        this.round.delete().then(() => {\n            if (this.props.ondelete) {\n                this.props.ondelete();\n            }\n\n            this.processing = false;\n            m.redraw();\n        }).catch(err => {\n            this.processing = false;\n            m.redraw();\n            throw err;\n        });\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.fish-image.';\n\nexport default class FishImage extends Component {\n    view() {\n        const src = this.props.fish.image_url();\n\n        if (src) {\n            return m('img.catchthefish-image', {\n                alt: app.translator.trans(translationPrefix + 'alt', {\n                    name: this.props.fish.name(),\n                }).join(''),\n                src,\n                style: {\n                    animationDuration: this.props.animationDuration || '10s',\n                },\n            });\n        }\n\n        return m('.catchthefish-no-image', app.translator.trans(translationPrefix + 'missing'));\n    }\n}\n","import app from 'flarum/app';\nimport classList from 'flarum/utils/classList';\nimport Component from 'flarum/Component';\nimport FishImage from './FishImage';\nimport CaughtFishModal from '../modals/CaughtFishModal';\n\n/* global m */\n\nexport default class MovingFish extends Component {\n    init() {\n        super.init();\n\n        this.reverseAnimation = Math.random() > 0.5;\n        this.animationDuration = 5 + (Math.floor(Math.random() * 70) / 10) + 's';\n    }\n\n    view() {\n        const {fish} = this.props;\n\n        return m('.catchthefish-moving-fish', {\n            className: classList({\n                'catchthefish-animate-flip': app.forum.catchTheFishAnimateFlip(),\n                'catchthefish-animate-reverse': this.reverseAnimation,\n            }),\n            style: {\n                animationDuration: this.animationDuration,\n            },\n            onclick: () => {\n                if (!fish.canCatch() && !app.session.user) {\n                    alert(app.translator.trans('clarkwinkelmann-catch-the-fish.forum.moving-fish.login'));\n                    return;\n                }\n\n                app.request({\n                    method: 'POST',\n                    url: app.forum.attribute('apiUrl') + '/catch-the-fish/fishes/' + fish.id() + '/catch',\n                    data: fish.placement(),\n                }).then(result => {\n                    app.modal.show(new CaughtFishModal({\n                        fish: app.store.pushPayload(result),\n                    }));\n\n                    // So the parent can remove the fish from the relationship\n                    if (this.props.oncatch) {\n                        this.props.oncatch();\n                    }\n                });\n            },\n        }, [\n            m('.catchthefish-name', fish.name()),\n            FishImage.component({\n                fish,\n                animationDuration: this.animationDuration,\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Component from 'flarum/Component';\nimport Alert from 'flarum/components/Alert';\nimport LinkButton from 'flarum/components/LinkButton';\n\n/* global m, moment */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.round-alert.';\n\nclass AlertWithContainer extends Alert {\n    view() {\n        const vdom = super.view();\n\n        vdom.children = [\n            m('.container', vdom.children),\n        ];\n\n        return vdom;\n    }\n}\n\nexport default class UpdateAlert extends Component {\n    view() {\n        return AlertWithContainer.component({\n            type: 'info',\n            children: [\n                app.translator.trans(translationPrefix + 'message', {\n                    name: this.props.round.name(),\n                    time: moment(this.props.round.ends_at()).calendar(),\n                }),\n                app.forum.catchTheFishCanSeeRankingsPage() ? [\n                    ' ',\n                    LinkButton.component({\n                        className: 'Button',\n                        children: app.translator.trans(translationPrefix + 'rankings'),\n                        href: app.route('catchTheFishRankings'),\n                    }),\n                ] : null,\n            ],\n            dismissible: false,\n        });\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport User from \"./User\";\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.table-ranking.';\n\nexport default class RoundRankings extends Page {\n    init() {\n        super.init();\n\n        this.rankings = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/catch-the-fish/rounds/' + this.props.round.id() + '/rankings',\n        }).then(result => {\n            this.rankings = app.store.pushPayload(result);\n            m.redraw();\n        });\n    }\n\n    view() {\n        if (this.rankings === null) {\n            return m('p', app.translator.trans(translationPrefix + 'loading'));\n        }\n\n        return m('div', [\n            m('h2', app.translator.trans(translationPrefix + 'title', {\n                name: this.props.round.name(),\n            })),\n            m('table.catchthefish-table', [\n                m('thead', m('tr', [\n                    m('th', app.translator.trans(translationPrefix + 'rank')),\n                    m('th', app.translator.trans(translationPrefix + 'count')),\n                    m('th', app.translator.trans(translationPrefix + 'user')),\n                ])),\n                m('tbody', this.rankings.map((ranking, index) => m('tr', [\n                    m('td', '#' + (index + 1)),\n                    m('td', ranking.catch_count()),\n                    m('td', User.component({\n                        user: ranking.user(),\n                    })),\n                ]))),\n            ]),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport Component from 'flarum/Component';\n\n/* global m */\n\nexport default class DropArea extends Component {\n    view() {\n        const {user} = this.props;\n\n        return m('a', {\n            href: app.route.user(user),\n            config: m.route,\n        }, [\n            avatar(user),\n            ' ',\n            username(user),\n        ]);\n    }\n}\n","import {extend} from 'flarum/extend';\nimport app from 'flarum/app';\nimport addModels from './addModels';\nimport addFishBasket from './addFishBasket';\nimport addDropAreas from './addDropAreas';\nimport addPages from './addPages';\nimport addNavLinks from './addNavLinks';\nimport addRoundAlert from './addRoundAlert';\n\napp.initializers.add('clarkwinkelmann-catch-the-fish', () => {\n    addModels();\n    addFishBasket();\n    addDropAreas();\n    addPages();\n    addNavLinks();\n    addRoundAlert();\n});\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport FishImage from '../components/FishImage';\nimport User from \"../components/User\";\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.caught-fish-modal.';\n\nexport default class CaughtFishModal extends Modal {\n    init() {\n        super.init();\n\n        this.newName = m.prop(this.props.fish.name());\n        this.dirty = false;\n        this.loading = false;\n    }\n\n    className() {\n        return 'Modal--small catchthefish-catch-modal';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title');\n    }\n\n    saveNameAndPlacement(randomPlacement = false) {\n        const data = {};\n\n        if (this.dirty) {\n            data.name = this.newName();\n        }\n\n        if (randomPlacement) {\n            data.placement = 'random';\n        }\n\n        if (data) {\n            this.loading = true;\n\n            app.request({\n                method: 'POST',\n                url: app.forum.attribute('apiUrl') + '/catch-the-fish/fishes/' + this.props.fish.id() + '/place',\n                data,\n            }).then(result => {\n                app.store.pushPayload(result);\n                this.hide();\n\n                if (this.props.fish.canPlace() && !randomPlacement) {\n                    // Refresh basket by reloading user\n                    app.store.find('users', app.session.user.id()).then(() => {\n                        m.redraw();\n                    });\n                }\n            }).catch(err => {\n                this.loading = false;\n                m.redraw();\n                throw err;\n            });\n        } else {\n            this.hide();\n\n            if (this.props.fish.canPlace() && !randomPlacement) {\n                // Refresh basket by reloading user\n                app.store.find('users', app.session.user.id()).then(() => {\n                    m.redraw();\n                });\n            }\n        }\n    }\n\n    content() {\n        const {fish} = this.props;\n\n        const namedBy = fish.namedBy();\n        const placedBy = fish.placedBy();\n\n        return m('.Modal-body', [\n            m('h3','\"' + fish.name() + '\"'),\n            FishImage.component({\n                fish,\n            }),\n            namedBy ? m('p', [\n                app.translator.trans(translationPrefix + 'named-by'),\n                ' ',\n                User.component({\n                    user: namedBy,\n                }),\n            ]) : null,\n            placedBy ? m('p', [\n                app.translator.trans(translationPrefix + 'placed-by'),\n                ' ',\n                User.component({\n                    user: placedBy,\n                }),\n            ]) : null,\n            m('p', app.translator.trans(translationPrefix + 'congratulation', {\n                catch_count: fish.round().ranking().catch_count(),\n            })),\n            fish.canName() ? m('.Form-group', [\n                m('p', app.translator.trans(translationPrefix + 'name-help')),\n                m('label', app.translator.trans(translationPrefix + 'name')),\n                m('input.FormControl', {\n                    value: this.newName(),\n                    oninput: m.withAttr('value', value => {\n                        this.newName(value);\n                        this.dirty = true;\n                    }),\n                }),\n            ]) : null,\n            fish.canPlace() ? m('p', app.translator.trans(translationPrefix + 'placement-help')) : null,\n            m('.Form-group', Button.component({\n                className: 'Button Button--primary Button--block',\n                type: 'button',\n                loading: this.loading,\n                children: app.translator.trans(translationPrefix + (this.dirty ? (fish.canPlace() ? 'submit-name-place-later' : 'submit-name') : (fish.canPlace() ? 'submit-place-later' : 'submit-continue'))),\n                onclick: () => {\n                    this.saveNameAndPlacement();\n                },\n            })),\n            fish.canPlace() ? m('.Form-group', Button.component({\n                className: 'Button Button--primary Button--block',\n                type: 'button',\n                loading: this.loading,\n                children: app.translator.trans(translationPrefix + (this.dirty ? 'submit-name-place-random' : 'submit-place-random')),\n                onclick: () => {\n                    this.saveNameAndPlacement(true);\n                },\n            })) : null,\n        ]);\n    }\n\n    onsubmit() {\n        // Because the modal has its own form, pressing enter will submit here\n        // In this case we apply the same feature as the first button\n        this.saveNameAndPlacement();\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditFish from '../components/EditFish';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-fish-modal.';\n\nexport default class EditRoundModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title', {\n            name: this.props.fish.name(),\n        });\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditFish.component({\n                fish: this.props.fish,\n                ondelete: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditRound from '../components/EditRound';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.edit-round-modal.';\n\nexport default class EditRoundModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title', {\n            name: this.props.round.name(),\n        });\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditRound.component({\n                round: this.props.round,\n                ondelete: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditFish from '../components/EditFish';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.new-fish-modal.';\n\nexport default class NewFishModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title');\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditFish.component({\n                round: this.props.round,\n                onsave: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport EditRound from '../components/EditRound';\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.new-round-modal.';\n\nexport default class NewRoundModal extends Modal {\n    className() {\n        return 'Modal--small';\n    }\n\n    title() {\n        return app.translator.trans(translationPrefix + 'title');\n    }\n\n    content() {\n        return m('.Modal-body', [\n            EditRound.component({\n                onsave: () => {\n                    this.hide();\n\n                    if (this.props.oncreateordelete) {\n                        this.props.oncreateordelete();\n                    }\n                },\n            }),\n        ]);\n    }\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class Fish extends mixin(Model, {\n    round_id: Model.attribute('round_id'), // Just for the creation apiEndpoint creation\n    placement: Model.attribute('placement'), // Object\n    name: Model.attribute('name'),\n    image_url: Model.attribute('image_url'),\n    canSee: Model.attribute('canSee'),\n    canCatch: Model.attribute('canCatch'),\n    canName: Model.attribute('canName'),\n    canPlace: Model.attribute('canPlace'),\n    placeUntil: Model.attribute('placeUntil'),\n    namedBy: Model.hasOne('lastUserNaming'),\n    placedBy: Model.hasOne('lastUserPlacement'),\n    round: Model.hasOne('round'),\n}) {\n    apiEndpoint() {\n        return '/catch-the-fish/' + (this.exists ? 'fishes/' + this.data.id : 'rounds/' + this.data.attributes.round_id + '/fishes');\n    }\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class Fish extends mixin(Model, {\n    catch_count: Model.attribute('catch_count'),\n    user: Model.hasOne('user'),\n}) {\n    //\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class Fish extends mixin(Model, {\n    name: Model.attribute('name'),\n    starts_at: Model.attribute('starts_at'),\n    ends_at: Model.attribute('ends_at'),\n    include_starting_pack: Model.attribute('include_starting_pack'),\n    ranking: Model.hasOne('ranking'),\n}) {\n    apiEndpoint() {\n        return '/catch-the-fish/rounds' + (this.exists ? '/' + this.data.id : '');\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport RoundRankings from \"../components/RoundRankings\";\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.page-ranking.';\n\nexport default class Rankings extends Page {\n    view() {\n        if (!app.forum.catchTheFishCanSeeRankingsPage()) {\n            return m('.container', m('p', app.translator.trans(translationPrefix + 'permission')));\n        }\n\n        const rounds = app.forum.catchTheFishActiveRounds();\n\n        return m('.container', [\n            m('h2', app.translator.trans(translationPrefix + 'title')),\n            rounds ? rounds.map(round => RoundRankings.component({\n                round,\n            })) : m('p', app.translator.trans(translationPrefix + 'nothing')),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\nimport LinkButton from 'flarum/components/LinkButton';\nimport NewRoundModal from '../modals/NewRoundModal';\nimport EditRoundModal from '../modals/EditRoundModal';\n\n/* global m */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.table-round.';\n\nexport default class RoundList extends Page {\n    init() {\n        super.init();\n\n        this.refreshRounds();\n    }\n\n    refreshRounds() {\n        this.rounds = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/catch-the-fish/rounds',\n        }).then(result => {\n            this.rounds = app.store.pushPayload(result);\n            m.redraw();\n        });\n    }\n\n    view() {\n        if (this.rounds === null) {\n            return m('.container', m('p', app.translator.trans(translationPrefix + 'loading')));\n        }\n\n        return m('.container', [\n            m('h2', app.translator.trans(translationPrefix + 'title')),\n            Button.component({\n                className: 'Button Button--primary',\n                onclick: () => {\n                    app.modal.show(new NewRoundModal({\n                        oncreateordelete: () => {\n                            this.refreshRounds();\n                        },\n                    }));\n                },\n                children: app.translator.trans(translationPrefix + 'new'),\n            }),\n            m('table.catchthefish-table', [\n                m('thead', m('tr', [\n                    m('th', app.translator.trans(translationPrefix + 'name')),\n                    m('th', app.translator.trans(translationPrefix + 'start')),\n                    m('th', app.translator.trans(translationPrefix + 'end')),\n                    m('th', app.translator.trans(translationPrefix + 'actions')),\n                ])),\n                m('tbody', this.rounds.map(round => m('tr', [\n                    m('td', round.name()),\n                    m('td', round.starts_at()),\n                    m('td', round.ends_at()),\n                    m('td', [\n                        Button.component({\n                            className: 'Button',\n                            onclick: () => {\n                                app.modal.show(new EditRoundModal({\n                                    round,\n                                    oncreateordelete: () => {\n                                        this.refreshRounds();\n                                    },\n                                }));\n                            },\n                            children: app.translator.trans(translationPrefix + 'edit'),\n                        }),\n                        ' ',\n                        LinkButton.component({\n                            className: 'Button',\n                            href: app.route('catchTheFishRound', {\n                                id: round.id(),\n                            }),\n                            children: app.translator.trans(translationPrefix + 'fishes'),\n                        }),\n                    ]),\n                ]))),\n            ]),\n        ]);\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\nimport NewFishModal from '../modals/NewFishModal';\nimport EditFishModal from '../modals/EditFishModal';\nimport FishImage from '../components/FishImage';\nimport User from \"../components/User\";\n\n/* global m, $ */\n\nconst translationPrefix = 'clarkwinkelmann-catch-the-fish.forum.table-fish.';\n\nexport default class RoundSettings extends Page {\n    init() {\n        super.init();\n\n        this.roundId = m.route.param('id');\n        this.round = app.store.getById('catchthefish-round', this.roundId);\n\n        if (!this.round) {\n            app.store.find('catch-the-fish/rounds', this.roundId).then(round => {\n                this.round = round;\n                m.redraw();\n            });\n        }\n\n        this.uploading = false;\n\n        this.refreshFishes();\n    }\n\n    refreshFishes() {\n        this.fishes = null;\n\n        app.request({\n            method: 'GET',\n            url: app.forum.attribute('apiUrl') + '/catch-the-fish/rounds/' + this.roundId + '/fishes',\n        }).then(result => {\n            this.fishes = app.store.pushPayload(result);\n            m.redraw();\n        });\n    }\n\n    // Based on Flarum's AvatarEditor component\n    openPicker(callback, multiple = false) {\n        if (this.uploading) return;\n\n        const $input = $('<input type=\"file\">');\n        $input.attr('multiple', multiple);\n        $input.appendTo('body').hide().click().on('change', e => {\n            callback($(e.target)[0].files);\n        });\n    }\n\n    uploadImages(images, fish) {\n        const data = new FormData();\n\n        if (fish) {\n            data.append('image', images[0]);\n        } else {\n            for (let i = 0; i < images.length; i++) {\n                data.append('image' + i, images[i]);\n            }\n        }\n\n        this.uploading = true;\n        m.redraw();\n\n        app.request({\n            method: 'POST',\n            url: app.forum.attribute('apiUrl') + '/catch-the-fish/' + (fish ? 'fishes/' + fish.id() + '/image' : 'rounds/' + this.roundId + '/fishes-from-images'),\n            serialize: raw => raw,\n            data,\n        }).then(() => {\n            this.uploading = false;\n            m.redraw();\n            this.refreshFishes();\n        }).catch(err => {\n            this.uploading = false;\n            m.redraw();\n            throw err;\n        });\n    }\n\n    view() {\n        if (!this.round || this.fishes === null) {\n            return m('.container', m('p', app.translator.trans(translationPrefix + 'loading')));\n        }\n\n        return m('.container', [\n            m('h2', app.translator.trans(translationPrefix + 'title', {\n                name: this.round.name(),\n            })),\n            Button.component({\n                className: 'Button Button--primary',\n                onclick: () => {\n                    app.modal.show(new NewFishModal({\n                        round: this.round,\n                        oncreateordelete: () => {\n                            this.refreshFishes();\n                        },\n                    }));\n                },\n                children: app.translator.trans(translationPrefix + 'new'),\n            }),\n            ' ',\n            Button.component({\n                className: 'Button',\n                type: 'button',\n                onclick: () => {\n                    this.openPicker(files => {\n                        this.uploadImages(files);\n                    }, true);\n                },\n                loading: this.uploading,\n                children: app.translator.trans(translationPrefix + 'new-from-image'),\n            }),\n            m('table.catchthefish-table', [\n                m('thead', m('tr', [\n                    m('th', app.translator.trans(translationPrefix + 'image')),\n                    m('th', app.translator.trans(translationPrefix + 'name')),\n                    m('th', app.translator.trans(translationPrefix + 'user-name')),\n                    m('th', app.translator.trans(translationPrefix + 'user-place')),\n                    m('th', app.translator.trans(translationPrefix + 'actions')),\n                ])),\n                m('tbody', this.fishes.length === 0 ? m('tr', [\n                    m('td', 'No fishes'),\n                ]) : this.fishes.map(fish => m('tr', [\n                    m('td', FishImage.component({\n                        fish,\n                    })),\n                    m('td', fish.name()),\n                    m('td', fish.namedBy() ? User.component({\n                        user: fish.namedBy(),\n                    }) : m('em', app.translator.trans(translationPrefix + 'no-user-name'))),\n                    m('td', fish.placedBy() ? User.component({\n                        user: fish.placedBy(),\n                    }) : m('em', app.translator.trans(translationPrefix + 'no-user-place'))),\n                    m('td', [\n                        Button.component({\n                            className: 'Button',\n                            onclick: () => {\n                                app.modal.show(new EditFishModal({\n                                    fish,\n                                    oncreateordelete: () => {\n                                        this.refreshFishes();\n                                    },\n                                }));\n                            },\n                            children: app.translator.trans(translationPrefix + 'edit'),\n                        }),\n                        ' ',\n                        Button.component({\n                            className: 'Button',\n                            type: 'button',\n                            onclick: () => {\n                                this.openPicker(files => {\n                                    this.uploadImages(files, fish);\n                                });\n                            },\n                            loading: this.uploading,\n                            children: app.translator.trans(translationPrefix + 'upload'),\n                        }),\n                    ]),\n                ]))),\n            ]),\n        ]);\n    }\n}\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Alert'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/CommentPost'];","module.exports = flarum.core.compat['components/DiscussionHero'];","module.exports = flarum.core.compat['components/HeaderPrimary'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['components/UserCard'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['models/Discussion'];","module.exports = flarum.core.compat['models/Forum'];","module.exports = flarum.core.compat['models/Post'];","module.exports = flarum.core.compat['models/User'];","module.exports = flarum.core.compat['utils/classList'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}